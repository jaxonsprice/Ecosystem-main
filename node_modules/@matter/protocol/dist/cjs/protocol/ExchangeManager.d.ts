/**
 * @license
 * Copyright 2022-2025 Matter.js Authors
 * SPDX-License-Identifier: Apache-2.0
 */
import { Crypto, Environment, Environmental, TransportInterfaceSet } from "#general";
import { PeerAddress } from "#peer/PeerAddress.js";
import { MessageChannel } from "#protocol/MessageChannel.js";
import { SessionManager } from "#session/SessionManager.js";
import { ChannelManager } from "./ChannelManager.js";
import { MessageExchange } from "./MessageExchange.js";
import { ProtocolHandler } from "./ProtocolHandler.js";
/**
 * Interfaces {@link ExchangeManager} with other components.
 */
export interface ExchangeManagerContext {
    crypto: Crypto;
    transportInterfaces: TransportInterfaceSet;
    sessionManager: SessionManager;
    channelManager: ChannelManager;
}
export declare class ExchangeManager {
    #private;
    constructor(context: ExchangeManagerContext);
    static [Environmental.create](env: Environment): ExchangeManager;
    get channels(): ChannelManager;
    hasProtocolHandler(protocolId: number): boolean;
    getProtocolHandler(protocolId: number): ProtocolHandler | undefined;
    addProtocolHandler(protocol: ProtocolHandler): void;
    initiateExchange(address: PeerAddress, protocolId: number): MessageExchange;
    initiateExchangeWithChannel(channel: MessageChannel, protocolId: number): MessageExchange;
    close(): Promise<void>;
    private onMessage;
    deleteExchange(exchangeIndex: number): Promise<void>;
    calculateMaximumPeerResponseTimeMsFor(channel: MessageChannel, expectedProcessingTimeMs?: number): number;
}
export declare class ExchangeCounter {
    #private;
    constructor(crypto: Crypto);
    getIncrementedCounter(): number;
}
//# sourceMappingURL=ExchangeManager.d.ts.map