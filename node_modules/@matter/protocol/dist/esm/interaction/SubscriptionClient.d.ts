/**
 * @license
 * Copyright 2022-2025 Matter.js Authors
 * SPDX-License-Identifier: Apache-2.0
 */
import { Environment, Environmental, MaybePromise } from "#general";
import { DecodedDataReport } from "#interaction/DecodedDataReport.js";
import { MessageExchange } from "#protocol/MessageExchange.js";
import { ProtocolHandler } from "#protocol/ProtocolHandler.js";
export interface RegisteredSubscription {
    id: number;
    maximumPeerResponseTimeMs: number;
    maxIntervalS: number;
    onData: (dataReport: DecodedDataReport) => MaybePromise<void>;
    onTimeout?: () => void;
}
/**
 * A simple protocol handler that handles exchanges starting with data reports.
 *
 * Incoming data reports must match to a subscription registered with {@link add} or the exchange is invalid.
 */
export declare class SubscriptionClient implements ProtocolHandler {
    #private;
    readonly id = 1;
    readonly requiresSecureSession = true;
    constructor();
    static [Environmental.create](env: Environment): SubscriptionClient;
    /**
     * Register a subscription.
     */
    add(subscription: RegisteredSubscription): void;
    /**
     * Unregister a subscription.
     */
    delete(id: number): void;
    onNewExchange(exchange: MessageExchange): Promise<void>;
    close(): Promise<void>;
}
//# sourceMappingURL=SubscriptionClient.d.ts.map