/**
 * @license
 * Copyright 2022-2025 Matter.js Authors
 * SPDX-License-Identifier: Apache-2.0
 */
import { Message } from "#codec/MessageCodec.js";
import { Channel, MatterError } from "#general";
import type { ExchangeLogContext } from "#protocol/MessageExchange.js";
import { Session, SessionParameters } from "#session/Session.js";
export declare class ChannelNotConnectedError extends MatterError {
}
/**
 * Default expected processing time for a messages in milliseconds. The value is derived from kExpectedIMProcessingTime
 * from chip implementation. This is basically the default used with different names, also kExpectedLowProcessingTime or
 * kExpectedSigma1ProcessingTime.
 */
export declare const DEFAULT_EXPECTED_PROCESSING_TIME_MS = 2000;
export declare namespace MRP {
    /**
     * The maximum number of transmission attempts for a given reliable message. The sender MAY choose this value as it
     * sees fit.
     */
    const MAX_TRANSMISSIONS = 5;
    /** The base number for the exponential backoff equation. */
    const BACKOFF_BASE = 1.6;
    /** The scaler for random jitter in the backoff equation. */
    const BACKOFF_JITTER = 0.25;
    /** The scaler margin increase to backoff over the peer sleepy interval. */
    const BACKOFF_MARGIN = 1.1;
    /** The number of retransmissions before transitioning from linear to exponential backoff. */
    const BACKOFF_THRESHOLD = 1;
    /** @see {@link MatterSpecification.v12.Core}, section 4.11.8 */
    const STANDALONE_ACK_TIMEOUT_MS = 200;
}
export declare class MessageChannel implements Channel<Message> {
    #private;
    readonly channel: Channel<Uint8Array>;
    readonly session: Session;
    closed: boolean;
    constructor(channel: Channel<Uint8Array>, session: Session, closeCallback?: () => Promise<void>);
    set closeCallback(callback: () => Promise<void>);
    get usesMrp(): boolean;
    /** Is the underlying transport reliable? */
    get isReliable(): boolean;
    get type(): import("#general").ChannelType;
    /**
     * Max Payload size of the exchange which bases on the maximum payload size of the channel. The full encoded matter
     * message payload sent here can be as huge as allowed by the channel.
     */
    get maxPayloadSize(): number;
    send(message: Message, logContext?: ExchangeLogContext): Promise<void>;
    get name(): string;
    close(): Promise<void>;
    calculateMaximumPeerResponseTimeMs(sessionParameters: SessionParameters, expectedProcessingTimeMs?: number): number;
    /**
     * Calculates the backoff time for a resubmission based on the current retransmission count.
     * If no session parameters are provided, the parameters of the current session are used.
     * If session parameters are provided, the method can be used to calculate the maximum backoff time for the other
     * side of the exchange.
     *
     * @see {@link MatterSpecification.v10.Core}, section 4.11.2.1
     */
    getMrpResubmissionBackOffTime(retransmissionCount: number, sessionParameters?: SessionParameters): number;
}
//# sourceMappingURL=MessageChannel.d.ts.map